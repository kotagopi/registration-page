<div class="register" [formGroup]="loginPageForm">
  <div class="login-page" [ngClass]="{'login-height': viewRegisterPage === true}">
    <!-- login page starts from here -->
    <ng-container *ngIf="viewRegisterPage === false">
      <div class="text-center login-header">Login</div>
      <label class="label">user name</label>
      <input
        type="text"
        class="form-control"
        formControlName="userName"
        placeholder="Enter username"
        [ngClass]="{ 'is-invalid': submitted && form.name.errors }"
      />
      <div *ngIf="submitted && form.name.errors" class="invalid-feedback">
        <div *ngIf="form.name.errors.required">First Name is required</div>
    </div>
      <label class="label">password</label>
      <input
        type="text"
        class="form-control"
        formControlName="password"
        placeholder="Enter password"
      />
      <button type="button" class="login-btn">login</button>
      <div class="p-t-16">
        Don't have an account&nbsp;?
        <span class="reg-text" (click)="navToRegister()">Register.</span>
      </div>
    </ng-container>
    <!-- login page ends here -->
    <!-- registration page starts from here -->
    <ng-container *ngIf="viewRegisterPage === true">
      <div class="text-center login-header">Register</div>
      <label class="label">Name</label>
      <input
        type="text"
        class="form-control"
        formControlName="name"
        placeholder="Enter user name"
        [ngClass]="{ 'is-invalid': submitted && form.name.errors }"
      />
      <div *ngIf="submitted && form.name.errors" class="invalid-feedback">
        <div *ngIf="form.name.errors.required">First Name is required</div>
        <div *ngIf="form.name.errors.minlength">Name must be atleast 3 characters long</div>
    </div>
      <label class="label">Avatar</label>
      <div class="d-flex justify-content-between">
        <!-- Upload image -->
        <div class="avatar-upload">
          <div class="avatar-edit">
            <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" #fileInput (change)="uploadFile($event)" />
          </div>
          <div class="avatar-preview">
            <div id="imagePreview" [style.backgroundImage]="'url('+ imageUrl +')'">
            </div>
          </div>
        </div>
        <button type="submit" class="upload-btn" (click)="fileInput.click()">Upload Image</button>
      </div>
      <label class="label">Email</label>
      <input
        type="email"
        class="form-control"
        formControlName="email"
        placeholder="Enter your email"
        [ngClass]="{ 'is-invalid': submitted && form.email.errors }"
      />
      <div *ngIf="submitted && form.email.errors" class="invalid-feedback">
        <div *ngIf="form.email.errors.required">Email is required</div>
        <div *ngIf="form.email.errors.email">Enter valid email</div>
    </div>
      <label class="label">Password</label>
      <input
        type="text"
        class="form-control"
        formControlName="password"
        placeholder="Enter your passoword"
        [ngClass]="{ 'is-invalid': submitted && form.password.errors }"
      />
      <div *ngIf="submitted && form.password.errors" class="invalid-feedback">
        <div *ngIf="form.password.errors.required">password is required</div>
        <div *ngIf="form.password.errors.minlength">password must be atleast 6 characters long</div>
        <div *ngIf="form.password.errors.maxlength">password should not be more than 10 characters long</div>
      </div>
      <div class="d-flex flex-column">
        <label class="label">Date of birth</label>
        <mat-form-field class="col p-0">
          <input matInput [matDatepicker]="dob" formControlName="dob" (click)="dob.open()" placeholder="Choose a date">
          <mat-datepicker-toggle matSuffix [for]="dob"></mat-datepicker-toggle>
          <mat-datepicker #dob></mat-datepicker>
        </mat-form-field>
      </div>
      <div *ngIf="submitted && form.dob.errors" class="invalid-feedback">
        <div *ngIf="form.dob.errors.required">Dob is required</div>
      </div>
      <label class="label">country</label>
        <ng-select [items]="countries" bindLabel="name" placeholder="Select Country" formControlName="country" (change)="getSelectedValue($event)"></ng-select>
        <div *ngIf="submitted && form.country.errors" class="invalid-feedback">
          <div *ngIf="form.country.errors.required">country is required</div>
        </div>
      <button type="button" class="login-btn" (click)="createUser()">Register</button>
      <div class="d-flex justify-content-end p-t-16" (click)="backToLogin()">
        <p class="back-login">back to login</p></div>
    </ng-container>
    <!-- registration page ends here -->
  </div>
</div>
